/*
new Uint8Array([0x02, 0x01, 左モーター方向, 左スピード, 0x02, 右モーター方向, 右スピード, 時間])
0.5秒 0x32
1秒	0x64	
1.5秒	0x96	
2秒	0xC8	
*/

window.getToioCommand = function(language = "en", level = "beginner") {
    const commands = {
        en: {
            beginner: {
                'go': new Uint8Array([0x02, 0x01, 0x01, 0x32, 0x02, 0x01, 0x32, 0x78]),
                'back': new Uint8Array([0x02, 0x01, 0x02, 0x32, 0x02, 0x02, 0x32, 0x78]),
                'right': new Uint8Array([0x02, 0x01, 0x01, 0x17, 0x02, 0x02, 0x17, 0x1E]),
                'left': new Uint8Array([0x02, 0x01, 0x02, 0x17, 0x02, 0x01, 0x17, 0x1E]),
                'stop': new Uint8Array([0x02, 0x01, 0x00, 0x00, 0x02, 0x00, 0x00, 0x00])
            },
            intermediate: {
                'go straight': new Uint8Array([0x02, 0x01, 0x01, 0x50, 0x02, 0x01, 0x50, 0x78]),
                'progress slowly': new Uint8Array([0x02, 0x01, 0x01, 0x15, 0x02, 0x01, 0x15, 0x78]),
                'move forward slowly': new Uint8Array([0x02, 0x01, 0x01, 0x15, 0x02, 0x01, 0x15, 0x78]),
                'turn right': new Uint8Array([0x02, 0x01, 0x01, 0x17, 0x02, 0x02, 0x17, 0x1E]),
                'turn left': new Uint8Array([0x02, 0x01, 0x02, 0x17, 0x02, 0x01, 0x17, 0x1E]),
                'go back': new Uint8Array([0x02, 0x01, 0x02, 0x50, 0x02, 0x02, 0x50, 0x78]),
                'stop': new Uint8Array([0x02, 0x01, 0x00, 0x00, 0x02, 0x00, 0x00, 0x00]),
                'move and turn right': null, //消すかも
                'move and turn left': null
            },
            advanced: {
                'hurry up and go straight': new Uint8Array([0x02, 0x01, 0x01, 0x80, 0x02, 0x01, 0x80, 0x78]),
                'move forward without hesitation': new Uint8Array([0x02, 0x01, 0x01, 0x80, 0x02, 0x01, 0x80, 0x78]),
                'keep going straight': new Uint8Array([0x02, 0x01, 0x01, 0x80, 0x02, 0x01, 0x80, 0xFF]),
                'head towards the north': new Uint8Array([0x02, 0x01, 0x01, 0x80, 0x02, 0x01, 0x80, 0xFF]),
                'take it easy and go straight': new Uint8Array([0x02, 0x01, 0x01, 0x32, 0x02, 0x01, 0x32, 0x78]),
                'go forward at a slow pace':  new Uint8Array([0x02, 0x01, 0x01, 0x15, 0x02, 0x01, 0x15, 0x78]),
                'turn to your right': new Uint8Array([0x02, 0x01, 0x01, 0x17, 0x02, 0x02, 0x17, 0x1E]),
                'turn to your left': new Uint8Array([0x02, 0x01, 0x02, 0x17, 0x02, 0x01, 0x17, 0x1E]),
                'take a step back': new Uint8Array([0x02, 0x01, 0x02, 0x50, 0x02, 0x02, 0x50, 0x78]),
                'stop': new Uint8Array([0x02, 0x01, 0x00, 0x00, 0x02, 0x00, 0x00, 0x00]),
                'go straight and turn right': null,
                'go straight and turn left': null
            },
             expressive: {
                'move gently': new Uint8Array([0x02, 0x01, 0x01, 0x15, 0x02, 0x01, 0x15, 0x78]),
                'move slowly': new Uint8Array([0x02, 0x01, 0x01, 0x15, 0x02, 0x01, 0x15, 0x78]),
                 'progress slowly': new Uint8Array([0x02, 0x01, 0x01, 0x15, 0x02, 0x01, 0x15, 0x78]),
                 'move forward slowly': new Uint8Array([0x02, 0x01, 0x01, 0x15, 0x02, 0x01, 0x15, 0x78]),
                 'move fast': new Uint8Array([0x02, 0x01, 0x01, 0x80, 0x02, 0x01, 0x80, 0x78]),
                 'run quickly' : new Uint8Array([0x02, 0x01, 0x01, 0x90, 0x02, 0x01, 0x90, 0x78]),
                 'walk slowly': new Uint8Array([0x02, 0x01, 0x01, 0x10, 0x02, 0x01, 0x10, 0x78]),
                 'turn around quickly': new Uint8Array([0x02, 0x01, 0x01, 0x50, 0x02, 0x02, 0x50, 0x78]),
            }
        }
    };

 

    // 言語とレベルの安全チェック
    if (!commands[language]) {
        console.warn(`⚠️ 言語 "${language}" は未定義です。デフォルトの "en" を使用します。`);
        language = "en";
    }

    if (!commands[language][level]) {
        console.warn(`⚠️ レベル "${level}" は未定義です。デフォルトの "beginner" を使用します。`);
        level = "beginner";
    }

    return commands[language][level];
};

console.log("✅ `commands.js` is loaded and `getToioCommand` works:");
console.log(window.getToioCommand("en", "beginner"));
